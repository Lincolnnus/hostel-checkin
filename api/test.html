<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0043)http://www.tuxradar.com/practicalphp/15/5/3 -->
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Sending mixed-type messages with PEAR::Mail_Mime | Practical PHP Programming | TuxRadar Linux</title>

<link rel="shortcut icon" href="http://www.tuxradar.com/misc/favicon.ico" type="image/x-icon">
<style type="text/css" media="all">@import "/modules/node/node.css";</style>
<style type="text/css" media="all">@import "/modules/poll/poll.css";</style>
<style type="text/css" media="all">@import "/modules/system/defaults.css";</style>
<style type="text/css" media="all">@import "/modules/system/system.css";</style>
<style type="text/css" media="all">@import "/modules/taxonomy_browser/taxonomy_browser.css";</style>
<style type="text/css" media="all">@import "/modules/user/user.css";</style>

<link rel="stylesheet" type="text/css" href="./test_files/main.css">


<script src="./test_files/prettify.js" type="text/javascript"></script>

</head>

<body onload="prettyPrint();">

	
<div id="masthead">
	<div class="inner">
		<div id="logo">
			<a href="http://www.tuxradar.com/"><img src="./test_files/tuxradar.png" alt="TuxRadar" title="TuxRadar"></a>
		</div>

		<div style="float: right; margin-top: 5px">

<!-- begin ad tag-->
<script language="JavaScript" type="text/javascript">
if (typeof ord=='undefined') {ord=Math.random()*10000000000000000;}

document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/fut.gb.tuxradar/home;dcopt=ist;tile=1;sz=728x90;ord=' + ord + '?" type="text/javascript"><\/script>');

</script><script language="JavaScript" src="./test_files/home;dcopt=ist;tile=1;sz=728x90" type="text/javascript"></script>
<!-- Copyright DoubleClick Inc., All rights reserved. -->
<!-- This code was autogenerated @ Tue Oct 23 07:27:44 EDT 2012 -->
<script src="./test_files/flashwrite_1_2.js"></script>
  
<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="FLASH_AD" width="728" height="90"><param name="movie" value="http://s0.2mdn.net/3857824/_1662306_linuxformat_cachemachine_728x90.swf"><param name="FlashVars" value="clickTag=http%3A%2F%2Fad.doubleclick.net%2Fclick%253Bh%253Dv8%2F3d8a%2F3%2F0%2F%252a%2Fb%253B264333099%253B0-0%253B0%253B81431904%253B3454-728%2F90%253B51048931%2F51018819%2F1%253B%253B%257Eokv%253D%253Bdcopt%253Dist%253Btile%253D1%253Bsz%253D728x90%253B%257Eaopt%253D2%2F1%2F81%2F0%253B%257Esscs%253D%253fhttp%3A%2F%2Fwww.ukfast.co.uk%2Fweb-acceleration.html%23utm_source%3Dlf-webcelerator%26utm_medium%3Dlf-webcelerator-leader%26utm_campaign%3Dlf-cache-machine"><param name="quality" value="high"><param name="bgcolor" value="#"><param name="wmode" value="opaque"><param name="AllowScriptAccess" value="never"><embed src="http://s0.2mdn.net/3857824/_1662306_linuxformat_cachemachine_728x90.swf" flashvars="clickTag=http%3A%2F%2Fad.doubleclick.net%2Fclick%253Bh%253Dv8%2F3d8a%2F3%2F0%2F%252a%2Fb%253B264333099%253B0-0%253B0%253B81431904%253B3454-728%2F90%253B51048931%2F51018819%2F1%253B%253B%257Eokv%253D%253Bdcopt%253Dist%253Btile%253D1%253Bsz%253D728x90%253B%257Eaopt%253D2%2F1%2F81%2F0%253B%257Esscs%253D%253fhttp%3A%2F%2Fwww.ukfast.co.uk%2Fweb-acceleration.html%23utm_source%3Dlf-webcelerator%26utm_medium%3Dlf-webcelerator-leader%26utm_campaign%3Dlf-cache-machine" quality="high" wmode="opaque" swliveconnect="TRUE" width="728" height="90" bgcolor="#" type="application/x-shockwave-flash" allowscriptaccess="never"></object>
<noscript>&lt;a target="_top" href="http://ad.doubleclick.net/click%3Bh%3Dv8/3d8a/3/0/%2a/b%3B264333099%3B0-0%3B0%3B81431904%3B3454-728/90%3B51048931/51018819/1%3B%3B%7Eokv%3D%3Bdcopt%3Dist%3Btile%3D1%3Bsz%3D728x90%3B%7Eaopt%3D2/1/81/0%3B%7Esscs%3D%3fhttp://www.ukfast.co.uk/web-acceleration.html#utm_source=lf-webcelerator&amp;utm_medium=lf-webcelerator-leader&amp;utm_campaign=lf-cache-machine"&gt;&lt;img src="http://s0.2mdn.net/3857824/_1662306_cash_machine_728x90.jpg"  border="0" alt="" &gt;&lt;/a&gt;</noscript><noscript>&lt;a href="http://ad.doubleclick.net/jump/fut.gb.tuxradar/home;tile=1;sz=728x90;ord=123456789?" target="_blank"&gt;&lt;img src="http://ad.doubleclick.net/ad/fut.gb.tuxradar/home;tile=1;sz=728x90;ord=123456789?" width="728" height="90" border="0" alt=""&gt;&lt;/a&gt;</noscript>

<!-- End ad tag -->




		</div>
	</div>
</div>

<div id="top_nav">
	<div class="inner">
		<div id="menubar">
			<ul class="links"><li class="first $key"><a href="http://www.tuxradar.com/" class="menu-1-1-2">Latest News</a></li>
<li class="$key"><a href="http://www.tuxradar.com/podcast" class="menu-1-2-2">Podcast</a></li>
<li class="$key"><a href="http://www.tuxradar.com/features" class="menu-1-3-2">Features</a></li>
<li class="$key"><a href="http://www.tuxradar.com/distros" class="menu-1-4-2">Distros</a></li>
<li class="$key"><a href="http://www.tuxradar.com/code" class="menu-1-5-2">Code</a></li>
<li class="$key"><a href="http://www.tuxradar.com/apps" class="menu-1-6-2">Apps</a></li>
<li class="last $key"><a href="http://www.tuxradar.com/content/open-ballot-have-you-converted-anyone-linux" class="menu-1-7-2">Convert Corner</a></li>
</ul>		&nbsp;&nbsp;&nbsp;<a href="http://www.tuxradar.com/rss"><img src="./test_files/rss-small.png" style="border: 0;margin-top:16px;"></a>
		</div>

		<div id="search_box">
			<form id="search-block-form" method="post" accept-charset="UTF-8" action="http://www.tuxradar.com/search/node">
				<input type="text" id="searchterm" name="keys" size="10">
				<input type="hidden" name="form_token" id="edit-search-form-form-token" value="e73b99514973bbe0b57abb81ceba5daf">
				<input type="hidden" name="form_id" id="edit-search-form" value="search_form">
				<input id="search_button" type="submit" value="Search">
			</form>
		</div>
	</div>
</div>

<div id="topstories">
	<div class="inner" style="text-align: center;">
		<p>

		<a href="https://play.google.com/store/magazines/details/Linux_Format?id=CAowwZ-hAQ"><img src="./test_files/banner.png"></a>

		</p>

	</div>
</div>

<div id="content">
	<div id="left" class="inner">
		<div id="node-106" class="node">


	<h1>Sending mixed-type messages with PEAR::Mail_Mime</h1><p>
  Emails that were sent using <strong>PEAR::Mail</strong> should be no different from our previous scripts, as we are not doing anything special just yet. However, <strong>PEAR::Mail</strong> was just there to lay the groundwork for our use of attachments. You see, there is a very close cousin of <strong>PEAR::Mail</strong> called <strong>PEAR::Mail_Mime</strong>, and this has a number of features to make sending attachments with <strong>PEAR::Mail</strong> emails very easy.
</p>
<p>
  The first type of attachment we are going to send does not even look like an attachment on the source. Previously we looked at sending HTML mail by adding "Content-type: text/html" to the headers. The problem with this is that people without a HTML mail reader cannot read the message because they will receive a huge chunk of HTML and will have to dig through it by hand to find the message.
</p>
<p>
  The solution here is to send the message in both plain text and HTML-encoded format, by attaching the HTML message separately. When the email is received by mail readers, they will automatically choose the correct one to display.
</p>
<div class="caution">
  <p>
    Author's Note: Mailing lists, particularly those attached to the open source community, take a very strong stance against HTML emails. The reason for this is that your message gets sent twice inside the one email - once in plain text and once in HTML. While this is fine for sending personal mails and mails to a controlled list who are willing to receive this, it does waste space in people's email inboxes.
  </p>
</div>
<p>
  We can do this very simply using <strong>PEAR::Mail</strong> and <strong>PEAR::Mail_Mime</strong>, particularly as the latter has a very simple way of attaching both a plain text mail and a HTML mail. Here is how it looks:
</p>
<div class="programlisting">
  <code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">include(</span><span style="color: #DD0000">'Mail.php'</span><span style="color: #007700">);<br>
  &nbsp;&nbsp;&nbsp;&nbsp;include(</span><span style="color: #DD0000">'Mail\mime.php'</span><span style="color: #007700">);<br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message</span> <span style="color: #007700">= new</span> <span style="color: #0000BB">Mail_mime</span><span style="color: #007700">();<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$text</span> <span style="color: #007700">=</span> <span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"mail_text.txt"</span><span style="color: #007700">);<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$html</span> <span style="color: #007700">=</span> <span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"mail_html.html"</span><span style="color: #007700">);<br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTXTBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">);<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$message</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setHTMLBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$html</span><span style="color: #007700">);<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$body</span> <span style="color: #007700">=</span> <span style="color: #0000BB">$message</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">();<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$extraheaders</span> <span style="color: #007700">= array(</span><span style="color: #DD0000">"From"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"me@example.com"</span><span style="color: #007700">,</span> <span style="color: #DD0000">"Subject"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"My Subject 7"</span><span style="color: #007700">);<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$headers</span> <span style="color: #007700">=</span> <span style="color: #0000BB">$message</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">headers</span><span style="color: #007700">(</span><span style="color: #0000BB">$extraheaders</span><span style="color: #007700">);<br>
  <br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mail</span> <span style="color: #007700">=</span> <span style="color: #0000BB">Mail</span><span style="color: #007700">::</span><span style="color: #0000BB">factory</span><span style="color: #007700">(</span><span style="color: #DD0000">"mail"</span><span style="color: #007700">);<br>
  &nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mail</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">send</span><span style="color: #007700">(</span><span style="color: #DD0000">"best@friend.com"</span><span style="color: #007700">,</span> <span style="color: #0000BB">$headers</span><span style="color: #007700">,</span> <span style="color: #0000BB">$body</span><span style="color: #007700">);<br></span> <span style="color: #0000BB">?&gt;</span></span></code>
</div>
<p>
  Some parts of that will look familiar, but the majority is new. This time we have to include both <strong>PEAR::Mail</strong> and <strong>PEAR::Mail_Mime</strong>, as it takes both classes to get the full email sent.
</p>
<p>
  This time, rather than handling our message as a text string, the message is an instance of Mail_mime. In the example, the message is stored in the <font color="#0000BB">$message</font> variable. Next, both the plain text and HTML messages are retrieved from disk using <em>file_get_contents()</em> and stored in <font color="#0000BB">$text</font> and <font color="#0000BB">$html</font> respectively.
</p>
<p>
  Once we have the content loaded, we can put it into the message using the <em>setTxtBody()</em> and <em>setHTMLBody()</em> methods of our <font color="#0000BB">$message</font> variable. These both take a string as their only parameter, so just pass in the appropriate return value from <em>file_get_contents()</em>.
</p>
<p>
  The body for the message, still stored in <font color="#0000BB">$body</font>, now comes from the return value of <em>$message-&gt;get()</em>. This retrieves the full message text to send, and is a combination of the HTML and text information all encoded for sending over the Internet. If you want to see how the system works behind the scenes, echo out <font color="#0000BB">$body</font> and have a look through.
</p>
<p>
  With the line starting, "$extraheaders = ", things start getting a little more complicated. Last time you saw that <em>PEAR::Mail-&gt;send()</em> takes its headers as an array, and, to accommodate this, <strong>PEAR::Mail_Mime</strong> also returns its headers as an array. You see, when sending complex emails, you need to have a special set of headers in there that tells the mail reader what to expect. So, once you have your content in place, you just call <em>headers()</em> to get the header information. As you still need to use the old headers (from, subject, etc), you can pass into <em>headers()</em> an array of existing headers, and it will add these to the array it returns.
</p>
<p>
  For example, calling <em>headers()</em> on its own might return something like this:
</p>
<div class="computeroutput">
  <code><span style="color: #000000">array(2) {<br>
  &nbsp;&nbsp;&nbsp;&nbsp;["MIME-Version"]=&gt;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;string(3) "1.0"<br>
  &nbsp;&nbsp;&nbsp;&nbsp;["Content-Type"]=&gt;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;string(64) "multipart/mixed;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;boundary="=_067d506611ba7a0da2b6106b54282d16""<br>
  }</span></code>
</div>
<p>
  However, passing our array <font color="#0000BB">$extraheaders</font> in as the only parameter, <em>headers()</em> returns this:
</p>
<div class="computeroutput">
  <code><span style="color: #000000">array(4) {<br>
  &nbsp;&nbsp;&nbsp;&nbsp;["MIME-Version"]=&gt;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;string(3) "1.0"<br>
  &nbsp;&nbsp;&nbsp;&nbsp;["From"]=&gt;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;string(14) "me@example.com"<br>
  &nbsp;&nbsp;&nbsp;&nbsp;["Subject"]=&gt;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;string(12) "My Subject 7"<br>
  &nbsp;&nbsp;&nbsp;&nbsp;["Content-Type"]=&gt;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;string(64) "multipart/mixed;<br>
  &nbsp;&nbsp;&nbsp;&nbsp;boundary="=_307c199ae5303dac356d5cf48c89fc7c""<br>
  }</span></code>
</div>
<p>
  Note that the "boundary" string in Content-Type is randomised, so yours will be different.
</p>
<p>
  Once we have the complete list of headers, this is passed into the <em>send()</em> call at the end, which is otherwise unchanged. Now when the mail is received, mail readers should automatically pick the best format for them and display it.
</p>							
							<p align="CENTER">

										
							<!-- begin ad tag-->

</p><div style="border: thin solid grey; width: 301px; padding: 5px;">
<script language="JavaScript" type="text/javascript">

document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/fut.gb.tuxradar/home;tile=3;sz=300x250;ord=' + ord + '?" type="text/javascript"><\/script>');

</script><script language="JavaScript" src="./test_files/home;tile=3;sz=300x250" type="text/javascript"></script>
<!-- Copyright DoubleClick Inc., All rights reserved. -->
<!-- This code was autogenerated @ Tue Oct 23 07:28:56 EDT 2012 -->
<script src="./test_files/flashwrite_1_2.js"></script>
  
<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="FLASH_AD" width="300" height="250"><param name="movie" value="http://s0.2mdn.net/3857824/_1662306_linuxformat_cachemachine_300x250.swf"><param name="FlashVars" value="clickTag=http%3A%2F%2Fad.doubleclick.net%2Fclick%253Bh%253Dv8%2F3d8a%2F3%2F0%2F%252a%2Fv%253B264297598%253B0-0%253B0%253B81431904%253B4307-300%2F250%253B51048959%2F51018847%2F1%253B%253B%257Eokv%253D%253Btile%253D3%253Bsz%253D300x250%253B%257Eaopt%253D2%2F1%2F81%2F0%253B%257Esscs%253D%253fhttp%3A%2F%2Fwww.ukfast.co.uk%2Fweb-acceleration.html%23utm_source%3Dlf-webcelerator%26utm_medium%3Dlf-webcelerator-mpu%26utm_campaign%3Dlf-cache-machine"><param name="quality" value="high"><param name="bgcolor" value="#"><param name="wmode" value="opaque"><param name="AllowScriptAccess" value="never"><embed src="http://s0.2mdn.net/3857824/_1662306_linuxformat_cachemachine_300x250.swf" flashvars="clickTag=http%3A%2F%2Fad.doubleclick.net%2Fclick%253Bh%253Dv8%2F3d8a%2F3%2F0%2F%252a%2Fv%253B264297598%253B0-0%253B0%253B81431904%253B4307-300%2F250%253B51048959%2F51018847%2F1%253B%253B%257Eokv%253D%253Btile%253D3%253Bsz%253D300x250%253B%257Eaopt%253D2%2F1%2F81%2F0%253B%257Esscs%253D%253fhttp%3A%2F%2Fwww.ukfast.co.uk%2Fweb-acceleration.html%23utm_source%3Dlf-webcelerator%26utm_medium%3Dlf-webcelerator-mpu%26utm_campaign%3Dlf-cache-machine" quality="high" wmode="opaque" swliveconnect="TRUE" width="300" height="250" bgcolor="#" type="application/x-shockwave-flash" allowscriptaccess="never"></object>
<noscript>&lt;a target="_top" href="http://ad.doubleclick.net/click%3Bh%3Dv8/3d8a/3/0/%2a/v%3B264297598%3B0-0%3B0%3B81431904%3B4307-300/250%3B51048959/51018847/1%3B%3B%7Eokv%3D%3Btile%3D3%3Bsz%3D300x250%3B%7Eaopt%3D2/1/81/0%3B%7Esscs%3D%3fhttp://www.ukfast.co.uk/web-acceleration.html#utm_source=lf-webcelerator&amp;utm_medium=lf-webcelerator-mpu&amp;utm_campaign=lf-cache-machine"&gt;&lt;img src="http://s0.2mdn.net/3857824/_1662306_cache_machine_300x250.jpg"  border="0" alt="" &gt;&lt;/a&gt;</noscript><noscript>&lt;a href="http://ad.doubleclick.net/jump/fut.gb.tuxradar/home;tile=3;sz=300x250;ord=123456789?" target="_blank"&gt;&lt;img src="http://ad.doubleclick.net/ad/fut.gb.tuxradar/home;tile=3;sz=300x250;ord=123456789?" width="300" height="250" border="0" alt=""&gt;&lt;/a&gt;</noscript>

</div>
							<!-- End ad tag -->

							<p></p>
				
<p>&nbsp;</p>
<div style="text-align: center">

<p><strong>Next chapter: <a href="http://www.tuxradar.com/practicalphp/15/5/4">Sending attachments (at last!) &gt;&gt;</a></strong></p><p>Previous chapter: <a href="http://www.tuxradar.com/practicalphp/15/5/2">Easier mail sending with PEAR::Mail</a></p><p>Jump to: <select name="related" id="JumpTo"><option value="15/0/0">Networks</option><option value="15/1/0">&nbsp;&nbsp;&nbsp;Sockets</option><option value="15/1/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sockets are files</option><option value="15/1/2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Making a simple search engine</option><option value="15/1/3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sockets aren't all about HTTP</option><option value="15/1/4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sockets can be servers</option><option value="15/1/5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sockets can be powerful</option><option value="15/2/0">&nbsp;&nbsp;&nbsp;Domain resolution functions</option><option value="15/3/0">&nbsp;&nbsp;&nbsp;Host and IP resolution</option><option value="15/4/0">&nbsp;&nbsp;&nbsp;HTTP</option><option value="15/4/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sending custom headers</option><option value="15/4/2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reading queued headers</option><option value="15/4/3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Authentication over HTTP</option><option value="15/4/4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dynamic authentication</option><option value="15/5/0">&nbsp;&nbsp;&nbsp;Sending mail</option><option value="15/5/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MIME types</option><option value="15/5/2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Easier mail sending with PEAR::Mail</option><option selected="selected" style="font-weight: bold;" value="15/5/3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sending mixed-type messages with PEAR::Mail_Mime</option><option value="15/5/4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sending attachments (at last!)</option><option value="15/6/0">&nbsp;&nbsp;&nbsp;Reading mail</option><option value="15/6/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opening a mailbox</option><option value="15/6/2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reading message information</option><option value="15/6/3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reading message contents</option><option value="15/7/0">&nbsp;&nbsp;&nbsp;Dealing with MIME-encoded messages</option><option value="15/8/0">&nbsp;&nbsp;&nbsp;Mail management</option><option value="15/9/0">&nbsp;&nbsp;&nbsp;Transferring files over FTP</option><option value="15/9/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Other helpful FTP functions</option><option value="15/10/0">&nbsp;&nbsp;&nbsp;Curl</option><option value="15/10/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Installing Curl</option><option value="15/10/2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Your first Curl scripts</option><option value="15/10/3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The abridged list of Curl options</option><option value="15/10/4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Debugging Curl</option><option value="15/11/0">&nbsp;&nbsp;&nbsp;Custom data stream handling</option><option value="15/11/1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The Morse code stream</option><option value="15/12/0">&nbsp;&nbsp;&nbsp;Summary</option><option value="15/13/0">&nbsp;&nbsp;&nbsp;Exercises</option><option value="15/14/0">&nbsp;&nbsp;&nbsp;Further reading</option><option value="15/15/0">&nbsp;&nbsp;&nbsp;Next chapter</option></select> <input type="submit" value="Go" onclick="var jumpto = document.getElementById(&#39;JumpTo&#39;); location.href = &#39;http://www.tuxradar.com/practicalphp/&#39; + jumpto.value; "></p>
<p>&nbsp;</p>
<p>Home: <a href="http://www.tuxradar.com/practicalphp">Table of Contents</a></p>
</div>
			<p style="text-align: center; margin-top: 50px;">

			<script type="text/javascript">
				document.write ('<a href="');
				document.write('http://www.stumbleupon.com/submit?url=' +document.URL +'&title='+document.title.replace(/ /g,'+')+'">');
				document.write ('<img border="0" src="http://cdn.stumble-upon.com/images/160x30_su_blue.gif"></a>');
			</script><a href="http://www.stumbleupon.com/submit?url=http://www.tuxradar.com/practicalphp/15/5/3&title=Sending+mixed-type+messages+with+PEAR::Mail_Mime+|+Practical+PHP+Programming+|+TuxRadar+Linux"><img border="0" src="./test_files/160x30_su_blue.gif"></a>

			</p>

			<p style="text-align: center; font-weight: bold;">Follow us on <a href="http://identi.ca/tuxradar">Identi.ca</a> or <a href="http://twitter.com/tuxradar">Twitter</a></p>

			  </div>
</div>
<p></p>	</div>

	<div id="right"> 

				
		<!-- begin ad tag-->

		<script language="JavaScript" type="text/javascript">


document.write('<script language="JavaScript" src="http://ad.doubleclick.net/adj/fut.gb.tuxradar/home;tile=2;sz=160x600;ord=' + ord + '?" type="text/javascript"><\/script>');

</script><script language="JavaScript" src="./test_files/home;tile=2;sz=160x600" type="text/javascript"></script><div id="dclkAdsDivID_12763"><iframe id="dclkAdsFrameID_12763" name="dclkAdsFrameName_12763" src="./test_files/test.html" scrolling="no" width="160" height="600" style="border: 0px;" marginheight="0" marginwidth="0"></iframe></div><noscript>&lt;a href="http://ad.doubleclick.net/jump/fut.gb.tuxradar/home;tile=2;sz=160x600;ord=123456789?" target="_blank"&gt;&lt;img src="http://ad.doubleclick.net/ad/fut.gb.tuxradar/home;tile=2;sz=160x600;ord=123456789?" width="160" height="600" border="0" alt=""&gt;&lt;/a&gt;</noscript>



		<!-- End ad tag -->




	</div>


<!--
<div style="clear: both; margin-top: 30px; text-align: center;">
<script type="text/javascript" language="JavaScript">
         google_ad_client = 'ca-futurepublishing_html'; 
         google_ad_width = 728;
         google_ad_height = 90;
         google_ad_format = '728x90_pas_abgc';
         google_ad_type = 'text';
         google_encoding = 'latin1'; 
         google_safe = 'high';
         google_color_bg = 'cccccc';
         google_color_text = '000000';
         google_color_link = '3a89af';
         google_color_url = '3a89af'; 
         google_color_border = '666666';
         google_color_line = 'd3dade';
         google_alternate_color = '00FFFF';
</script>
<script type="text/javascript" language="JavaScript" src='http://pagead2.googlesyndication.com/pagead/show_ads.js'></script>
<noscript>
    <img height="1" width="1" border="0" src="http://pagead2.googlesyndication.com/pagead/imp.gif?client=ca-futurepublishing_html&event=noscript" /> 
</noscript>
</div>
-->

<div id="prefooter" style="margin-top: 50px;">
	<div class="inner" style="text-align:center;">

		
			<div style="display: inline;">	
			<form action="http://www.tuxradar.com/frontpage?destination=frontpage" accept-charset="UTF-8" method="post" style="margin-top: 0; padding-top: 0; display: inline;" id="user-login-form">
	 			Username: <input type="text" maxlength="60" name="name" id="edit-name" size="15" value="" class="form-text required"> &nbsp; 
	 			Password: <input type="password" name="pass" id="edit-pass" maxlength="60" size="15" class="form-text required">
				<input type="submit" name="op" id="edit-submit" value="Log in" class="form-submit">
				<input type="hidden" name="form_id" id="edit-user-login-block" value="user_login_block">
			</form>
			</div>


			<div style="display: inline; margin-left: 100px">
				<a href="http://www.tuxradar.com/user/register">Create Account</a> |
				<a href="http://www.tuxradar.com/about">About TuxRadar</a>
			</div>

			</div>
</div>

<div id="footer">
	<div class="inner">
		<div id="future_footer" style="width:400px;">
			<img style="float:left;padding-right:5px;padding-bottom:5px;" src="./test_files/future.gif" alt="Future Publishing Ltd">
Copyright 2012 Future Publishing Limited (company
registered number 2008885), a company registered
in England and Wales whose registered office is at
Beauford Court, 30 Monmouth Street, Bath, BA1 2BW, UK<br>
<a href="http://www.futurenet.com/futureonline/termsandconditions.asp">Terms &amp; Conditions</a> | <a href="http://www.futurenet.com/futureonline/privacy.asp">Privacy Policy</a>
		</div>

		<div id="host_footer">


<object type="application/x-shockwave-flash" data="http://www.tuxradar.com/files/ukfast_mycloudstack3.swf" width="468" height="60">
        <param name="movie" value="/files/ukfast_mycloudstack3.swf">
        <param name="quality" value="high">
</object>





<br><strong><a href="http://www.ukfast.co.uk/mycloudstack.html#utm_source=tux-mycloudstack-offers&utm_medium=tux-mycloudstack-offers-leader&utm_campaign=tux-mycloudstack-offers">Web hosting by UKFast</a></strong>
		</div>

	</div>
</div>




<br>



<!--OMNITURE CODE HBX2.5 (Universal)-->
<!-- Copyright 1997 - 2008. Omniture, Inc. All Rights Reserved.  Omniture is a registered trademark of Omniture, Inc. in the United States, Canada, Japan, and the European Community. -->
<script type="text/javascript" language="javascript">
var _hbEC=0,_hbE=new Array;function _hbEvent(a,b){b=_hbE[_hbEC++]=new Object();b._N=a;b._C=0;return b;}
var hbx=_hbEvent("pv");hbx.vpc="HBX0250u";hbx.gn="ehg-futurepub.hitbox.com";

//BEGIN EDITABLE SECTION
//CONFIGURATION VARIABLES
hbx.acct="DM570213BNZR71EN3";//ACCOUNT NUMBER(S)
hbx.pn="TuxRadar_Sending mixed-type messages with PEAR::Mail_Mime | Practical PHP Programming";//PAGE NAME(S)
hbx.mlc="/TuxRadar/ROS";//MULTI-LEVEL CONTENT CATEGORY

hbx.pndef="title";//DEFAULT PAGE NAME
hbx.ctdef="full";//DEFAULT CONTENT CATEGORY

//OPTIONAL PAGE VARIABLES
//ACTION SETTINGS
hbx.fv="";//FORM VALIDATION MINIMUM ELEMENTS OR SUBMIT FUNCTION NAME
hbx.lt="auto_pos";//LINK TRACKING
hbx.dlf="n";//DOWNLOAD FILTER
hbx.dft="n";//DOWNLOAD FILE NAMING
hbx.elf="n";//EXIT LINK FILTER

//SEGMENTS AND FUNNELS
hbx.seg="";//VISITOR SEGMENTATION
hbx.fnl="";//FUNNELS

//CAMPAIGNS
hbx.cmp="_P::cid";//CAMPAIGN ID
hbx.cmpn="";//CAMPAIGN ID IN QUERY
hbx.dcmp="";//DYNAMIC CAMPAIGN ID
hbx.dcmpn="";//DYNAMIC CAMPAIGN ID IN QUERY
hbx.dcmpe="";//DYNAMIC CAMPAIGN EXPIRATION
hbx.dcmpre="";//DYNAMIC CAMPAIGN RESPONSE EXPIRATION
hbx.hra="_P::attr";//RESPONSE ATTRIBUTE
hbx.hqsr="";//RESPONSE ATTRIBUTE IN REFERRAL QUERY
hbx.hqsp="";//RESPONSE ATTRIBUTE IN QUERY
hbx.hlt="";//LEAD TRACKING
hbx.hla="";//LEAD ATTRIBUTE
hbx.gp="";//CAMPAIGN GOAL
hbx.gpn="";//CAMPAIGN GOAL IN QUERY
hbx.hcn="";//CONVERSION ATTRIBUTE
hbx.hcv="";//CONVERSION VALUE
hbx.cp="null";//LEGACY CAMPAIGN
hbx.cpd="";//CAMPAIGN DOMAIN

//CUSTOM VARIABLES
hbx.ci="";//CUSTOMER ID
hbx.hc1="";//CUSTOM 1
hbx.hc2="";//CUSTOM 2
hbx.hc3="";//CUSTOM 3
hbx.hc4="";//CUSTOM 4
hbx.hrf="";//CUSTOM REFERRER
hbx.pec="";//ERROR CODES

</script>
<script type="text/javascript" language="javascript" src="./test_files/hbx.js"></script>
<!--END OMNITURE CODE-->


<!-- Begin Google Analytics code -->

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="./test_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-4487960-2");
pageTracker._trackPageview();
} catch(err) {}</script>

<!-- End Google Analytics code -->

<!-- Begin Sitestat4 code -->

<script language="JavaScript1.1" type="text/javascript">
<!--
function sitestat(ns_l){ns_l+='&amp;ns__t='+(new Date()).getTime();ns_pixelUrl=ns_l;
ns_0=document.referrer;
ns_0=(ns_0.lastIndexOf('/')==ns_0.length-1)?ns_0.substring(ns_0.lastIndexOf('/'),0):ns_0;
if(ns_0.length>0)ns_l+='&amp;ns_referrer='+escape(ns_0);
if(document.images){ns_1=new Image();ns_1.src=ns_l;}else
document.write('<img src="'+ns_l+'" width="1" height="1" alt="">');}
var countername = "ros.practicalphp.15.5.3.page";
sitestat("http://uk.sitestat.com/future/tuxradar/s?"+countername);
//-->
</script>
<noscript>
&lt;img src="http://uk.sitestat.com/future/tuxradar/s?ros.practicalphp.15.5.3.page"
width="1" height="1" alt=""&gt;
</noscript>


<!-- End Sitestat4 code -->

	






</body></html>